<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SiliconCoreï½œæˆ°ç•¥æƒ…å ±å®¤</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;400;700;900&family=Space+Mono:wght@400;700&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #f7f6f3; --surface: #ffffff; --border: #e0ddd7;
    --text-primary: #1a1a1a; --text-secondary: #6b6b6b; --text-muted: #a0a0a0;
    --accent-silicon: #e85d26; --accent-military: #2a4a7f;
  }

  body { font-family: 'Noto Sans TC', sans-serif; background: var(--bg); color: var(--text-primary); min-height: 100vh; }

  header {
    position: sticky; top: 0; z-index: 100;
    background: rgba(247,246,243,0.92); backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--border);
    padding: 0 40px; height: 52px;
    display: flex; align-items: center; justify-content: space-between;
  }
  .logo { font-family: 'Space Mono', monospace; font-size: 14px; font-weight: 700; color: var(--text-primary); text-decoration: none; }
  .logo span { color: var(--accent-silicon); }
  nav { display: flex; gap: 28px; }
  nav a { font-size: 13px; color: var(--text-secondary); text-decoration: none; cursor: pointer; transition: color .2s; }
  nav a:hover { color: var(--text-primary); }
  nav a.active { color: var(--text-primary); font-weight: 500; }

  .hero { max-width: 900px; margin: 0 auto; padding: 72px 40px 48px; }
  .hero-label { font-family: 'Space Mono', monospace; font-size: 11px; letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-muted); margin-bottom: 20px; }
  .hero h1 { font-family: 'Noto Serif TC', serif; font-size: clamp(32px, 5vw, 52px); font-weight: 900; line-height: 1.15; margin-bottom: 16px; }
  .hero h1 em { font-style: normal; color: var(--accent-silicon); }
  .hero p { font-size: 15px; color: var(--text-secondary); line-height: 1.7; max-width: 560px; }

  .tabs-wrapper { max-width: 900px; margin: 0 auto; padding: 0 40px; }
  .tabs { display: flex; border-bottom: 2px solid var(--border); margin-bottom: 40px; }
  .tab-btn {
    padding: 12px 24px; font-size: 14px; font-weight: 500;
    color: var(--text-muted); background: none; border: none;
    border-bottom: 2px solid transparent; margin-bottom: -2px;
    cursor: pointer; transition: all .2s; font-family: 'Noto Sans TC', sans-serif;
    display: flex; align-items: center; gap: 8px;
  }
  .tab-btn:hover { color: var(--text-primary); }
  .tab-btn.active { color: var(--text-primary); border-bottom-color: var(--text-primary); }
  .dot { width: 7px; height: 7px; border-radius: 50%; display: inline-block; }
  #tab-silicon .dot { background: var(--accent-silicon); }
  #tab-military .dot { background: var(--accent-military); }

  .panel { display: none; }
  .panel.active { display: block; }

  .section-label {
    font-family: 'Space Mono', monospace; font-size: 11px;
    letter-spacing: 0.15em; text-transform: uppercase; color: var(--text-muted);
    margin-bottom: 16px; display: flex; align-items: center; gap: 8px;
  }
  .section-label::after { content: ''; flex: 1; height: 1px; background: var(--border); }

  .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 16px; margin-bottom: 48px; }

  .card {
    background: var(--surface); border: 1px solid var(--border); border-radius: 8px;
    overflow: hidden; cursor: pointer;
    transition: box-shadow .2s, transform .15s;
    text-decoration: none; color: inherit; display: block;
  }
  .card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.08); transform: translateY(-2px); }

  .card-thumb {
    height: 120px; display: flex; align-items: center; justify-content: center;
    font-size: 56px; font-family: 'Noto Serif TC', serif; font-weight: 900;
  }
  .card-thumb.military { background: linear-gradient(135deg, #1a2a4a 0%, #2a4a7f 100%); color: rgba(255,255,255,0.18); }
  .card-thumb.silicon  { background: linear-gradient(135deg, #2d1a0e 0%, #8b3a12 100%); color: rgba(255,255,255,0.15); }

  .card-body { padding: 16px 18px 18px; }
  .card-tag { font-family: 'Space Mono', monospace; font-size: 10px; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); margin-bottom: 8px; }
  .card-title { font-family: 'Noto Serif TC', serif; font-size: 16px; font-weight: 700; line-height: 1.4; margin-bottom: 8px; }
  .card-desc { font-size: 13px; color: var(--text-secondary); line-height: 1.6; }
  .card-meta { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border); font-size: 12px; color: var(--text-muted); display: flex; justify-content: space-between; }

  .empty-state { text-align: center; padding: 60px 20px; color: var(--text-muted); font-size: 14px; }
  .empty-state .icon { font-size: 36px; margin-bottom: 12px; }

  .loading { text-align: center; padding: 60px; color: var(--text-muted); font-family: 'Space Mono', monospace; font-size: 12px; }

  /* MODAL */
  .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); z-index: 200; align-items: center; justify-content: center; padding: 20px; }
  .modal-overlay.open { display: flex; }
  .modal { background: var(--surface); border-radius: 12px; width: 100%; max-width: 680px; max-height: 85vh; overflow-y: auto; padding: 32px; position: relative; }
  .modal-close { position: absolute; top: 16px; right: 16px; background: none; border: 1px solid var(--border); border-radius: 50%; width: 32px; height: 32px; font-size: 16px; cursor: pointer; color: var(--text-secondary); display: flex; align-items: center; justify-content: center; }

  .detail-tag { font-family: 'Space Mono', monospace; font-size: 11px; letter-spacing: 0.1em; text-transform: uppercase; color: var(--text-muted); margin-bottom: 10px; }
  .detail-title { font-family: 'Noto Serif TC', serif; font-size: 22px; font-weight: 900; margin-bottom: 20px; }
  .detail-content { font-size: 14px; color: var(--text-secondary); line-height: 1.8; white-space: pre-wrap; background: var(--bg); padding: 16px; border-radius: 6px; border: 1px solid var(--border); margin-bottom: 16px; }
  .detail-meta { font-size: 12px; color: var(--text-muted); }

  /* TABLE */
  .detail-table-wrap { overflow-x: auto; margin-bottom: 16px; }
  .detail-table { width: 100%; border-collapse: collapse; font-size: 13px; }
  .detail-table th { background: #f0ede8; font-weight: 600; text-align: left; padding: 8px 12px; border: 1px solid var(--border); }
  .detail-table td { padding: 8px 12px; border: 1px solid var(--border); color: var(--text-secondary); }
  .detail-table tr:hover td { background: #faf9f7; }

  footer { border-top: 1px solid var(--border); padding: 24px 40px; text-align: center; font-size: 12px; color: var(--text-muted); margin-top: 40px; }

  @media (max-width: 600px) {
    header { padding: 0 16px; }
    .hero { padding: 40px 16px 32px; }
    .tabs-wrapper { padding: 0 16px; }
  }
</style>
</head>
<body>

<header>
  <a class="logo" href="#"><span>Silicon</span>Coreï½œæˆ°ç•¥æƒ…å ±å®¤</a>
  <nav>
    <a onclick="switchTab('silicon')" id="nav-silicon" class="active">çŸ½è°·è§€å¯Ÿ</a>
    <a onclick="switchTab('military')" id="nav-military">å°æµ·è»äº‹</a>
  </nav>
</header>

<section class="hero">
  <div class="hero-label">// Strategic Intelligence Room</div>
  <h1>SiliconCore<br><em>æˆ°ç•¥æƒ…å ±å®¤</em></h1>
  <p>çŸ½è°·ç§‘æŠ€å‹•æ…‹ Ã— å°æµ·è»äº‹æƒ…å‹¢ã€‚å€‹äººè§€å¯Ÿç­†è¨˜èˆ‡è³‡æ–™å½™æ•´ã€‚</p>
</section>

<main class="tabs-wrapper">
  <div class="tabs">
    <button class="tab-btn active" id="tab-silicon" onclick="switchTab('silicon')">
      <span class="dot"></span>çŸ½è°·è§€å¯Ÿãƒ»LLM èƒ¡è¨€äº‚èª
    </button>
    <button class="tab-btn" id="tab-military" onclick="switchTab('military')">
      <span class="dot"></span>å°æµ·è»äº‹æƒ…å ±
    </button>
  </div>

  <div class="panel active" id="panel-silicon">
    <div class="section-label">æœ€æ–°æ¢ç›®</div>
    <div class="card-grid" id="grid-silicon"><div class="loading">è¼‰å…¥ä¸­...</div></div>
  </div>

  <div class="panel" id="panel-military">
    <div class="section-label">æƒ…å ±è³‡æ–™åº«</div>
    <div class="card-grid" id="grid-military"><div class="loading">è¼‰å…¥ä¸­...</div></div>
  </div>
</main>

<footer>
  SiliconCoreï½œæˆ°ç•¥æƒ…å ±å®¤ &nbsp;Â·&nbsp; å€‹äººç ”ç©¶ç­†è¨˜ &nbsp;Â·&nbsp; å…§å®¹ä¸æ§‹æˆä»»ä½•æŠ•è³‡æˆ–è»äº‹å»ºè­°
</footer>

<!-- DETAIL MODAL -->
<div class="modal-overlay" id="modal-detail">
  <div class="modal">
    <button class="modal-close" onclick="closeModal()">Ã—</button>
    <div class="detail-tag" id="d-tag"></div>
    <div class="detail-title" id="d-title"></div>
    <div id="d-content-wrap"></div>
    <div id="d-table-wrap"></div>
    <div class="detail-meta" id="d-meta"></div>
  </div>
</div>

<script>
  const siliconGlyphs  = ['â¬¡','â—ˆ','â—','â¬¢','â—‰','â¬Ÿ'];
  const militaryGlyphs = ['è‰¦','ç©º','é™¸','å½ˆ','å¯†','æƒ…'];
  let allData = { silicon: [], military: [] };

  // â”€â”€ FETCH DATA â”€â”€
  async function loadData() {
    try {
      const res = await fetch('data/index.json?t=' + Date.now());
      if (!res.ok) throw new Error('not found');
      allData = await res.json();
    } catch(e) {
      allData = { silicon: [], military: [] };
    }
    renderGrid('silicon');
    renderGrid('military');
  }

  // â”€â”€ RENDER â”€â”€
  function renderGrid(panel) {
    const grid = document.getElementById('grid-' + panel);
    const entries = allData[panel] || [];
    const isM = panel === 'military';
    const glyphs = isM ? militaryGlyphs : siliconGlyphs;
    const cls = isM ? 'military' : 'silicon';

    if (entries.length === 0) {
      grid.innerHTML = `<div class="empty-state"><div class="icon">${isM ? 'ğŸ›¡ï¸' : 'ğŸ’¡'}</div>å°šç„¡è³‡æ–™ï¼Œè«‹ä¸Šå‚³ JSON è‡³ data/${panel}/</div>`;
      return;
    }

    grid.innerHTML = entries.map((e, i) => `
      <a class="card" href="#" onclick="openDetail(event,${i},'${panel}')">
        <div class="card-thumb ${cls}">${glyphs[i % glyphs.length]}</div>
        <div class="card-body">
          <div class="card-tag">${esc(e.tag || '')}</div>
          <div class="card-title">${esc(e.title || 'ï¼ˆç„¡æ¨™é¡Œï¼‰')}</div>
          <div class="card-desc">${esc(e.desc || '')}</div>
          <div class="card-meta"><span>${esc(e.tag || '')}</span><span>${esc(e.date || '')}</span></div>
        </div>
      </a>`).join('');
  }

  // â”€â”€ TAB â”€â”€
  function switchTab(panel) {
    document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.tab-btn, nav a').forEach(b => b.classList.remove('active'));
    document.getElementById('panel-' + panel).classList.add('active');
    document.getElementById('tab-' + panel).classList.add('active');
    document.getElementById('nav-' + panel).classList.add('active');
  }

  // â”€â”€ DETAIL â”€â”€
  function openDetail(e, idx, panel) {
    e.preventDefault();
    const entry = allData[panel][idx];
    if (!entry) return;

    document.getElementById('d-tag').textContent = entry.tag || '';
    document.getElementById('d-title').textContent = entry.title || '';
    document.getElementById('d-meta').textContent = entry.date ? 'æ—¥æœŸï¼š' + entry.date : '';

    // content
    const cw = document.getElementById('d-content-wrap');
    cw.innerHTML = entry.content
      ? `<div class="detail-content">${esc(entry.content)}</div>`
      : '';

    // table
    const tw = document.getElementById('d-table-wrap');
    if (entry.table && entry.table.headers && entry.table.rows) {
      const headers = entry.table.headers.map(h => `<th>${esc(h)}</th>`).join('');
      const rows = entry.table.rows.map(r =>
        '<tr>' + r.map(c => `<td>${esc(c)}</td>`).join('') + '</tr>'
      ).join('');
      tw.innerHTML = `<div class="detail-table-wrap"><table class="detail-table"><thead><tr>${headers}</tr></thead><tbody>${rows}</tbody></table></div>`;
    } else {
      tw.innerHTML = '';
    }

    document.getElementById('modal-detail').classList.add('open');
  }

  function closeModal() {
    document.getElementById('modal-detail').classList.remove('open');
  }

  document.getElementById('modal-detail').addEventListener('click', function(e) {
    if (e.target === this) closeModal();
  });

  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') closeModal();
  });

  function esc(s) {
    return (s || '').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>');
  }

  loadData();
</script>
</body>
</html>
