{
  "tag": "AI專案紀錄",
  "date": "2026-02-28",
  "title": "用蒙地卡羅模擬台海兵推是什麼感覺？從 OOB 到勝負條件全部自己建",
  "desc": "不是看地圖猜誰贏，而是讓模擬引擎跑幾百場平行宇宙，看在不同條件下兩邊各有幾成機會。這是一個從零開始建兵棋推演系統的過程紀錄。",
  "content": "## 這不是戰略遊戲，是一個問題\n\n台灣海峽一旦開戰，哪一方更有可能取得優勢？\n\n這個問題沒有標準答案，但可以有系統性的框架來思考。這個專案做的不是猜測，而是建立一套**可以重複執行的模擬引擎**，把兩岸部隊的實力參數化、把地形影響量化、把勝負條件明確定義，然後讓電腦跑幾百次，看在隨機干擾下各種結局出現的頻率。\n\n這叫蒙地卡羅模擬（Monte Carlo Simulation）。用在兵推上的意思是：與其預測唯一結果，不如觀察結果的分布。\n\n---\n\n## 兵推的四個骨架\n\n要讓模擬能跑起來，需要四個部分缺一不可。\n\n**一、戰鬥序列（OOB，Order of Battle）**\n\n雙方各有哪些部隊？每支部隊在哪個區域？初始戰力、火力、防禦值是多少？這份清單叫做作戰序列，是整個模擬的輸入起點。\n\n這個系統的 OOB 包含 ROC（中華民國）16 個旅（涵蓋地面、裝甲、砲兵、飛彈、海軍、海巡等型別），以及 PLA（解放軍）的運輸艦群、兩棲部隊、火箭炮、飛彈旅、艦隊等。每個單位都有獨立的屬性，不是共用固定數值。\n\n**二、作戰階段引擎**\n\n每一回合（半天）依序執行 11 個作戰階段：\n\n1. 飛彈打擊（混合目標：雷達 60%、登陸區域準備射擊 40%）\n2. PLA 火箭炮前置壓制（只在登陸前發動）\n3. 海上作戰（含艦砲對陸支援）\n4. 空降作戰\n5. 空中打擊（依戰況相位切換目標優先順序）\n6. 運輸艦推進\n7. 兩棲登陸\n8. 地面接觸戰（含鄰接地區 fallback）\n9. 水雷威脅判定\n10. 部隊推進與後續波次\n11. 回合結算（補給、設施修復）\n\n每個階段都有獨立的命中率、傷害計算、彈藥消耗邏輯。\n\n**三、勝利條件**\n\n兵推需要定義「什麼叫做結束」，否則模擬就會無限跑下去。這個系統有 8 個勝利條件，每個都有時間門檻保護（避免第一天就觸發）：\n\n| 勝利條件 | 觸發方 | 說明 |\n|---|---|---|\n| 首都區域淪陷 | PLA | NORTH 區有足夠兵力與戰力，第 7 天後 |\n| 灘頭鞏固 | PLA | 島上站穩，第 7 天後 |\n| PLA 部隊殲滅 | ROC | 島上 PLA 全數消滅 |\n| 南北對峙 | PLA | 北方佔領、南方穩住，第 14 天後 |\n| 補給崩潰 | 雙方 | 平均彈藥低於門檻 |\n| 士氣崩潰 | 雙方 | 平均士氣低於門檻 |\n| 封鎖成功 | PLA | 長期切斷 ROC 補給線 |\n| 成功防禦 30 天 | ROC | 撐過一個月無上述失敗 |\n\n**四、補給後勤**\n\nROC 的補給能力連動基隆港、高雄港（各佔 HP）與清泉崗機場。港口或機場被打到越殘，每回合補給量越少。PLA 的補給能力連動運輸艦存活率：AT_SEA 全值計入，在灘頭卸載中（CONSOLIDATING）折半，被擊沉就沒有。\n\n---\n\n## 關鍵設計決定\n\n**為什麼是半天一回合而不是一天？**\n\n攻擊波次、潮汐窗口、登陸時機在現實中以小時計算，但 30 天的戰局如果用小時跑會太慢。半天（12 小時）是一個折衷：足以區分「白天空中打擊」與「夜間推進」的差異，又不至於讓單次模擬跑太久。\n\n**為什麼 PLA 不是「第一天就贏」？**\n\n初版確實出現這個問題：PLA 運輸艦第一波卸下的旅，直接觸發「首都淪陷」條件，ROC 第三天就輸了。根本原因是勝利條件沒有時間門檻——剛上岸的兩棲旅不等於佔領台北。後來加入 `min_days`（至少第 7 天）、`min_units`（至少 2 個旅）、`min_strength`（至少 1.20 倍門檻）才修正。\n\n**PLA 第一波能帶多少人？**\n\n根據公開資料推估：解放軍 73 集團軍約 5–7 萬人，考量重裝備海運限制，24 小時內約可登陸 4–6 個旅，48 小時才能達到 8 個旅以上。因此模擬設計了「後續波次（Follow-on Wave）」機制：運輸艦卸載後等待 8 回合（4 天），再以 60% 的殘餘戰力返航載下一批。\n\n**地面部隊為什麼不能打到全台灣的 ROC？**\n\nPLA 在 NORTH 登陸，ROC 的 SOUTH 部隊不會直接介入，這是地理現實。引擎編碼了台灣地形鄰接圖：\n\n```\nNORTH ↔ CENTRAL ↔ SOUTH\nEAST（孤立）\nISLANDS（孤立）\n```\n\n地面戰鬥只在同區或鄰接區發生，砲兵射程也以此為限。\n\n---\n\n## 蒙地卡羅跑出什麼結論？\n\n200 場隨機種子的 MC 測試：\n\n- **ROC 獲勝：62.5%**（主要原因：PLA 島上部隊殲滅）\n- **PLA 獲勝：37%**（主要原因：第 7–9 天首都區域淪陷）\n- **對峙/僵局：0.5%**\n\nPLA 獲勝場次集中在第 7–9 天，ROC 獲勝場次分布在第 12–30 天。代表登陸初期是關鍵窗口：PLA 要在 ROC 完成增援之前拿下北台灣，否則後勤消耗戰 ROC 佔優。\n\n這不是政治結論，是模型在這組參數下的統計結果。改變任何一個重要參數（美日介入程度、PLA 飛彈命中率、ROC 備戰天數），分布就會不同。**蒙地卡羅的意義不在於給答案，而在於讓你知道哪個變數最敏感。**\n\n---\n\n## 這個系統能做什麼，不能做什麼\n\n**能做的：**\n- 在設定好的參數下，量化兩邊的勝率分布\n- 測試不同場景（美軍介入、ROC 備戰程度、開戰時機）的結果差異\n- 追蹤每一回合的彈藥消耗、部隊損耗、設施狀態\n- 以敏感度分析找出哪個參數對結果影響最大\n\n**不能做的：**\n- 預測真實戰爭結果（變數太多，政治因素完全沒有進模型）\n- 模擬士兵個體行為、指揮鏈斷裂、情資錯誤\n- 反映中期以後的戰略調整（援軍、外交壓力、經濟封鎖）\n\n這是一個**結構性思考工具**，不是預言機。它的價值在於強迫你把「感覺」轉換成可以測試的假設。\n\n---\n\n## 技術規格\n\n| 項目 | 說明 |\n|---|---|\n| **語言** | Python 3.10 |\n| **框架** | 自建模擬引擎（無遊戲引擎依賴） |\n| **回合制** | 每回合 = 半天（12 小時），上限 60 回合（30 天）|\n| **作戰階段** | 每回合 11 個依序執行的作戰模組 |\n| **勝利條件** | 8 個，均有時間與強度門檻保護 |\n| **OOB** | ROC 16 個單位，PLA 20+ 個單位 |\n| **補給機制** | 連動設施 HP（港口、機場）與運輸艦存活率 |\n| **地形系統** | 5 個作戰區域，含地形防禦乘數與鄰接圖 |\n| **MC 測試** | 200 場隨機種子，結果：ROC 62.5% / PLA 37% |\n| **設施系統** | 雷達、機場、指揮所、港口、核電廠，各有修復速率 |"
}